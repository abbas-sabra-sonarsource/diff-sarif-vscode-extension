# Instructions

 1. Install MS-SarifVSCode.sarif-viewer
 2. Open report.sarif

The results should open in panel of its own.

# Comments

 * The viewer state has to be cleared in order to reload a modified document, apparently.
   Use the "SARIF: Clear State" command for that. It may reload the window.

 * Format specification: https://docs.oasis-open.org/sarif/sarif/v2.1.0/os/sarif-v2.1.0-os.html

 * The report was generated from a modified Clang test and contains cross-file issues (header + TU).
   It contains issues with secondary locations similar to the one generated by our analyzer.

 * The content of the report is fairly explicit and we probably need to change very little.

 * In a nutshell, the report is an array of "runs". Here are some high level concepts.
 
   Each "run" (§3.14) defines a "tool.driver" (§3.14.6, §3.18.2) with the usual suspects (name, version, ...)
   and a set of "rules" (§3.19.23, §3.49).
   Rules are essentially a name/id with some description and an optional link to some help document.

   Each "run" may define an array of "artifacts" (§3.14.15, §3.24), which essentially are the set files
   where issues or secondary locations are from.

   Finally, each "run" has an array of "results" (§3.14.23, §3.27).
   This is the equivalent of an issue in our analyzer: it has a message, a rule id and a primary location.
   And secondary locations are represented with an array of "codeFlows.threadFlows" (§3.36, §3.36.3, §3.37),
   with the usual locations and messages.

 * The report is not optimized for size.
   * Example: §3.4.2 says

     > At least one of the uri property (§3.4.3) or the index property (§3.4.5) SHALL be present.
     
     but both are present in the report from Clang.
     We may improve on this.

  * The artefacts can contain many optional entries, including hash of their content.
    This may be useful to detect analysis comparison mismatches.